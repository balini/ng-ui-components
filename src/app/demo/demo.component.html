<div class="demo-grid">
  <!-- ========================= NG MODEL ========================= -->
  <section class="panel">
    <h3>Select ([(ngModel)])</h3>

    <label class="row">
      <span>Adicionar opção (label)</span>
      <input type="text" [(ngModel)]="newLabelNg" placeholder="Label (ex: Kiwi)"/>
    </label>

    <label class="row">
      <span>Adicionar opção (value)</span>
      <input type="text" [(ngModel)]="newValueNg" placeholder="Value (ex: kiwi)"/>
    </label>

    <div class="actions">
      <button class="action-button" (click)="addOptionNgModel()" [disabled]="!newLabelNg || !newValueNg">Adicionar opção</button>
      <button class="action-button" (click)="removeLastOptionNgModel()" [disabled]="optionsNgModel.length===0">Remover última opção</button>
    </div>

    <div class="control-row">
      <label>Valor selecionado: <strong>{{ selected || '—' }}</strong></label>
      <label>
        <input type="checkbox" [(ngModel)]="selectDisabledNgModel" />
        Desabilitar Select
      </label>
    </div>

    <app-select
      class="demo-select"
      [options]="optionsNgModel"
      [placeholder]="'selecione uma fruta'"
      [(ngModel)]="selected"
      [disabled]="selectDisabledNgModel"
      (selectionChange)="selected = $event"
    ></app-select>
  </section>

  <section class="panel">
    <h3>Switch ([(ngModel)])</h3>
    <app-switch
      [(ngModel)]="switchValue"
      (change)="onNgModelSwitchChange($event)"
      [disabled]="false"
    ></app-switch>

    <p>Switch value: <strong>{{ switchValue }}</strong></p>

    <p class="muted">O Switch acima desabilita o Select do bloco "Select ([(ngModel)])".</p>
  </section>

  <!-- ========================= REACTIVE FORMS ========================= -->
<section class="panel">
  <h3>Select com Reactive Forms</h3>

  <label class="row">
    <span>Adicionar opção (label)</span>
    <input type="text" [(ngModel)]="newLabelReactive" placeholder="Label (ex: Kiwi)"/>
  </label>

  <label class="row">
    <span>Adicionar opção (value)</span>
    <input type="text" [(ngModel)]="newValueReactive" placeholder="Value (ex: kiwi)"/>
  </label>

  <div class="actions">
    <button
      class="action-button"
      (click)="addOptionReactive()"
      [disabled]="!newLabelReactive?.trim() || !newValueReactive?.trim()"
    >
      Adicionar opção
    </button>

    <button
      class="action-button"
      (click)="removeLastOptionReactive()"
      [disabled]="optionsReactive.length === 0"
    >
      Remover última opção
    </button>
  </div>

  <div class="control-row">
    <label>
      Valor no form:
      <strong>{{ form.get('fruit')?.value || '—' }}</strong>
    </label>

    <label>
      <input type="checkbox" [formControl]="form.get('featureSwitch')" />
      Desabilitar Select
    </label>
  </div>

  <app-select
    [options]="optionsReactive"
    [placeholder]="'selecione uma fruta (reactive)'"
    [disabled]="form.get('fruit')?.disabled"
    [formControl]="form.get('fruit')"
  ></app-select>
</section>

<section class="panel">
  <h3>Switch com Reactive Forms</h3>

  <app-switch [formControl]="form.get('featureSwitch')"></app-switch>
  <p>Switch (reactive) value: <strong>{{ form.get('featureSwitch')?.value }}</strong></p>
  <p class="muted">O Switch acima desabilita o Select do bloco "Select com Reactive Forms".</p>
</section>
